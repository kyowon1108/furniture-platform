# ê°œë°œ ê°€ì´ë“œ

## ğŸ“‹ ëª©ì°¨
1. [ê°œë°œ í™˜ê²½ ì„¤ì •](#ê°œë°œ-í™˜ê²½-ì„¤ì •)
2. [ë°±ì—”ë“œ ê°œë°œ](#ë°±ì—”ë“œ-ê°œë°œ)
3. [í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ](#í”„ë¡ íŠ¸ì—”ë“œ-ê°œë°œ)
4. [í…ŒìŠ¤íŠ¸](#í…ŒìŠ¤íŠ¸)
5. [ë””ë²„ê¹…](#ë””ë²„ê¹…)
6. [ë°°í¬](#ë°°í¬)
7. [ë¬¸ì œ í•´ê²°](#ë¬¸ì œ-í•´ê²°)

---

## ê°œë°œ í™˜ê²½ ì„¤ì •

### 1. í•„ìˆ˜ ë„êµ¬ ì„¤ì¹˜

```bash
# Python 3.9.18 (Conda í™˜ê²½)
conda create -n furniture-backend python=3.9.18
conda activate furniture-backend

# Node.js 18+ ì„¤ì¹˜ í™•ì¸
node --version  # v18.0.0 ì´ìƒ

# Git ì„¤ì¹˜ í™•ì¸
git --version
```

### 2. í”„ë¡œì íŠ¸ í´ë¡ 

```bash
git clone <repository-url>
cd furniture-platform
```

### 3. ë°±ì—”ë“œ ì„¤ì •

```bash
cd backend

# Conda í™˜ê²½ í™œì„±í™”
conda activate furniture-backend

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘ (SECRET_KEY ë³€ê²½ í•„ìˆ˜)

# ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
alembic revision --autogenerate -m "Initial migration"
alembic upgrade head

# ì„œë²„ ì‹¤í–‰
uvicorn app.main:socket_app --reload --host 0.0.0.0 --port 8000
```

### 4. í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì •

```bash
cd frontend

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

### 5. ì ‘ì† í™•ì¸

- **ë°±ì—”ë“œ**: http://localhost:8000
- **Swagger UI**: http://localhost:8000/docs
- **í”„ë¡ íŠ¸ì—”ë“œ**: http://localhost:3000

---

## ë°±ì—”ë“œ ê°œë°œ

### 1. ìƒˆ API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€

#### Step 1: ìŠ¤í‚¤ë§ˆ ì •ì˜ (schemas/)

```python
# app/schemas/example.py
from pydantic import BaseModel

class ExampleCreate(BaseModel):
    name: str
    value: int

class ExampleResponse(BaseModel):
    id: int
    name: str
    value: int
    
    model_config = ConfigDict(from_attributes=True)
```

#### Step 2: ëª¨ë¸ ì •ì˜ (models/)

```python
# app/models/example.py
from sqlalchemy import Column, Integer, String
from app.database import Base

class Example(Base):
    __tablename__ = "examples"
    
    id = Column(Integer, primary_key=True)
    name = Column(String)
    value = Column(Integer)
```

#### Step 3: API ë¼ìš°í„° ìƒì„± (api/v1/)

```python
# app/api/v1/example.py
from fastapi import APIRouter, Depends
from sqlalchemy.orm import Session
from app.database import get_db
from app.api.deps import get_current_user

router = APIRouter()

@router.post("", response_model=ExampleResponse)
def create_example(
    data: ExampleCreate,
    current_user: User = Depends(get_current_user),
    db: Session = Depends(get_db)
):
    example = Example(**data.model_dump())
    db.add(example)
    db.commit()
    db.refresh(example)
    return example
```

#### Step 4: ë¼ìš°í„° ë“±ë¡ (main.py)

```python
# app/main.py
from app.api.v1 import example

app.include_router(example.router, prefix="/api/v1/examples", tags=["examples"])
```

#### Step 5: ë§ˆì´ê·¸ë ˆì´ì…˜

```bash
alembic revision --autogenerate -m "Add example table"
alembic upgrade head
```

### 2. WebSocket ì´ë²¤íŠ¸ ì¶”ê°€

```python
# app/api/v1/websocket.py

@sio.event
async def custom_event(sid, data):
    """ìƒˆ WebSocket ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬"""
    project_id = data.get('project_id')
    room = f'project_{project_id}'
    
    # ì²˜ë¦¬ ë¡œì§
    result = process_data(data)
    
    # ë¸Œë¡œë“œìºìŠ¤íŠ¸
    await sio.emit('custom_response', result, room=room, skip_sid=sid)
```

### 3. í…ŒìŠ¤íŠ¸ ì‘ì„±

```python
# tests/test_example.py
def test_create_example(client, auth_headers):
    data = {"name": "test", "value": 123}
    response = client.post("/api/v1/examples", json=data, headers=auth_headers)
    
    assert response.status_code == 201
    assert response.json()["name"] == "test"
```

---

## í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ

### 1. ìƒˆ í˜ì´ì§€ ì¶”ê°€

#### Step 1: í˜ì´ì§€ íŒŒì¼ ìƒì„±

```typescript
// app/example/page.tsx
'use client';

import { useState, useEffect } from 'react';

export default function ExamplePage() {
  const [data, setData] = useState([]);
  
  useEffect(() => {
    // ë°ì´í„° ë¡œë“œ
  }, []);
  
  return (
    <div>
      <h1>Example Page</h1>
      {/* ì»¨í…ì¸  */}
    </div>
  );
}
```

### 2. ìƒˆ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€

```typescript
// components/ui/ExampleComponent.tsx
'use client';

interface ExampleProps {
  title: string;
  onAction: () => void;
}

export function ExampleComponent({ title, onAction }: ExampleProps) {
  return (
    <div className="bg-white p-4 rounded shadow">
      <h2>{title}</h2>
      <button onClick={onAction}>Action</button>
    </div>
  );
}
```

### 3. Zustand ìŠ¤í† ì–´ í™•ì¥

```typescript
// store/exampleStore.ts
import { create } from 'zustand';

interface ExampleState {
  items: any[];
  addItem: (item: any) => void;
  removeItem: (id: string) => void;
}

export const useExampleStore = create<ExampleState>((set) => ({
  items: [],
  
  addItem: (item) =>
    set((state) => ({
      items: [...state.items, item],
    })),
  
  removeItem: (id) =>
    set((state) => ({
      items: state.items.filter((item) => item.id !== id),
    })),
}));
```

### 4. API í´ë¼ì´ì–¸íŠ¸ í™•ì¥

```typescript
// lib/api.ts
export const exampleAPI = {
  list: async () => {
    const response = await apiClient.get('/examples');
    return response.data;
  },
  
  create: async (data: any) => {
    const response = await apiClient.post('/examples', data);
    return response.data;
  },
};
```

### 5. 3D ì»´í¬ë„ŒíŠ¸ ì¶”ê°€

```typescript
// components/3d/CustomMesh.tsx
import { useRef } from 'react';
import * as THREE from 'three';

export function CustomMesh() {
  const meshRef = useRef<THREE.Mesh>(null);
  
  return (
    <mesh ref={meshRef} castShadow receiveShadow>
      <boxGeometry args={[1, 1, 1]} />
      <meshStandardMaterial color="#ff0000" />
    </mesh>
  );
}
```

---

## í…ŒìŠ¤íŠ¸

### 1. ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸

```bash
cd backend

# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
pytest

# íŠ¹ì • íŒŒì¼ í…ŒìŠ¤íŠ¸
pytest tests/test_auth.py

# ì»¤ë²„ë¦¬ì§€ í¬í•¨
pytest --cov=app tests/

# Verbose ëª¨ë“œ
pytest -v
```

### 2. í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸

```bash
cd frontend

# íƒ€ì… ì²´í¬
npm run type-check

# Lint
npm run lint

# ë¹Œë“œ í…ŒìŠ¤íŠ¸
npm run build
```

### 3. í†µí•© í…ŒìŠ¤íŠ¸

```bash
# ë°±ì—”ë“œ ì‹¤í–‰
cd backend
uvicorn app.main:socket_app --reload &

# í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰
cd frontend
npm run dev &

# ë¸Œë¼ìš°ì €ì—ì„œ ìˆ˜ë™ í…ŒìŠ¤íŠ¸
# http://localhost:3000
```

---

## ë””ë²„ê¹…

### 1. ë°±ì—”ë“œ ë””ë²„ê¹…

#### ë¡œê·¸ ì¶”ê°€

```python
import logging

logger = logging.getLogger(__name__)

@router.get("/debug")
def debug_endpoint():
    logger.info("Debug info")
    logger.error("Error occurred")
    return {"status": "ok"}
```

#### VS Code ë””ë²„ê±° ì„¤ì •

```json
// .vscode/launch.json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Python: FastAPI",
      "type": "python",
      "request": "launch",
      "module": "uvicorn",
      "args": [
        "app.main:socket_app",
        "--reload",
        "--host", "0.0.0.0",
        "--port", "8000"
      ],
      "jinja": true
    }
  ]
}
```

### 2. í”„ë¡ íŠ¸ì—”ë“œ ë””ë²„ê¹…

#### ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬

```typescript
// ì½˜ì†” ë¡œê·¸
console.log('Debug:', data);
console.error('Error:', error);

// ë¸Œë ˆì´í¬í¬ì¸íŠ¸
debugger;

// React DevTools ì‚¬ìš©
// Chrome í™•ì¥ í”„ë¡œê·¸ë¨ ì„¤ì¹˜
```

#### Next.js ë””ë²„ê¹…

```json
// .vscode/launch.json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Next.js: debug",
      "type": "node",
      "request": "launch",
      "runtimeExecutable": "npm",
      "runtimeArgs": ["run", "dev"],
      "port": 9229
    }
  ]
}
```

### 3. WebSocket ë””ë²„ê¹…

```typescript
// Socket.IO ë¡œê±° í™œì„±í™”
const socket = io(SOCKET_URL, {
  transports: ['websocket'],
  reconnection: true,
  logger: true,  // ë¡œê·¸ í™œì„±í™”
});

// ì´ë²¤íŠ¸ ë¡œê¹…
socket.onAny((event, ...args) => {
  console.log(`Event: ${event}`, args);
});
```

---

## ë°°í¬

### 1. ë°±ì—”ë“œ ë°°í¬ (Docker)

```dockerfile
# Dockerfile
FROM python:3.9.18-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

CMD ["uvicorn", "app.main:socket_app", "--host", "0.0.0.0", "--port", "8000"]
```

```bash
# ë¹Œë“œ
docker build -t furniture-backend .

# ì‹¤í–‰
docker run -p 8000:8000 furniture-backend
```

### 2. í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬ (Vercel)

```bash
# Vercel CLI ì„¤ì¹˜
npm install -g vercel

# ë°°í¬
cd frontend
vercel
```

### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

**í”„ë¡œë•ì…˜ í™˜ê²½**:
```bash
# ë°±ì—”ë“œ
DATABASE_URL=postgresql://user:pass@host:5432/db
SECRET_KEY=<ê°•ë ¥í•œ-ëœë¤-í‚¤>
ALLOWED_ORIGINS=https://yourdomain.com

# í”„ë¡ íŠ¸ì—”ë“œ
NEXT_PUBLIC_API_URL=https://api.yourdomain.com/api/v1
NEXT_PUBLIC_SOCKET_URL=https://api.yourdomain.com
```

---

## ë¬¸ì œ í•´ê²°

### 1. ë°±ì—”ë“œ ë¬¸ì œ

#### í¬íŠ¸ ì´ë¯¸ ì‚¬ìš© ì¤‘

```bash
# í”„ë¡œì„¸ìŠ¤ ì°¾ê¸°
lsof -ti:8000

# í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
lsof -ti:8000 | xargs kill -9
```

#### ë°ì´í„°ë² ì´ìŠ¤ ì ê¸ˆ

```bash
# SQLite íŒŒì¼ ì‚­ì œ í›„ ì¬ìƒì„±
rm backend/dev.db
cd backend
alembic upgrade head
```

#### ë§ˆì´ê·¸ë ˆì´ì…˜ ì˜¤ë¥˜

```bash
# ë§ˆì´ê·¸ë ˆì´ì…˜ íˆìŠ¤í† ë¦¬ í™•ì¸
alembic history

# íŠ¹ì • ë²„ì „ìœ¼ë¡œ ë‹¤ìš´ê·¸ë ˆì´ë“œ
alembic downgrade <revision>

# ë‹¤ì‹œ ì—…ê·¸ë ˆì´ë“œ
alembic upgrade head
```

### 2. í”„ë¡ íŠ¸ì—”ë“œ ë¬¸ì œ

#### ëª¨ë“ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŒ

```bash
# node_modules ì¬ì„¤ì¹˜
rm -rf node_modules package-lock.json
npm install
```

#### ë¹Œë“œ ì˜¤ë¥˜

```bash
# ìºì‹œ ì‚­ì œ
rm -rf .next
npm run build
```

#### WebSocket ì—°ê²° ì‹¤íŒ¨

```typescript
// CORS ì„¤ì • í™•ì¸
// backend/app/main.py
app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:3000"],  // í”„ë¡ íŠ¸ì—”ë“œ URL í™•ì¸
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

### 3. ì¼ë°˜ì ì¸ ë¬¸ì œ

#### JWT í† í° ë§Œë£Œ

```typescript
// í† í° ì¬ë°œê¸‰ ë˜ëŠ” ë¡œê·¸ì•„ì›ƒ
localStorage.removeItem('token');
router.push('/auth/login');
```

#### CORS ì˜¤ë¥˜

```python
# ë°±ì—”ë“œ CORS ì„¤ì • í™•ì¸
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
```

---

## ê°œë°œ íŒ

### 1. ì½”ë“œ í’ˆì§ˆ

```bash
# Python ì½”ë“œ í¬ë§·íŒ…
pip install black
black app/

# TypeScript ì½”ë“œ í¬ë§·íŒ…
npm run format
```

### 2. Git ì›Œí¬í”Œë¡œìš°

```bash
# ê¸°ëŠ¥ ë¸Œëœì¹˜ ìƒì„±
git checkout -b feature/new-feature

# ì»¤ë°‹
git add .
git commit -m "feat: Add new feature"

# í‘¸ì‹œ
git push origin feature/new-feature
```

### 3. ì„±ëŠ¥ ìµœì í™”

- **ë°±ì—”ë“œ**: ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ìŠ¤ ì¶”ê°€
- **í”„ë¡ íŠ¸ì—”ë“œ**: React.memo, useMemo, useCallback ì‚¬ìš©
- **3D**: LOD (Level of Detail) êµ¬í˜„

---

## ë‹¤ìŒ ë‹¨ê³„

- [í”„ë¡œì íŠ¸ ê°œìš”](./01_í”„ë¡œì íŠ¸_ê°œìš”.md) ë³µìŠµ
- [ë°±ì—”ë“œ êµ¬ì¡°](./02_ë°±ì—”ë“œ_êµ¬ì¡°.md) ì‹¬í™” í•™ìŠµ
- [í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°](./03_í”„ë¡ íŠ¸ì—”ë“œ_êµ¬ì¡°.md) ì‹¬í™” í•™ìŠµ
- [ë°ì´í„° íë¦„](./04_ë°ì´í„°_íë¦„.md) ì´í•´
- [API ë¬¸ì„œ](./05_API_ë¬¸ì„œ.md) ì°¸ì¡°
